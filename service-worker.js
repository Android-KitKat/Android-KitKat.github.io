self.addEventListener("install",(e=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{caches.keys().then((e=>{for(const t of e)t.startsWith("workbox-")&&(caches.delete(t),console.log(`删除缓存: ${t}`))})),self.registration.unregister().then((e=>{if(!e)throw new Error(self.registration.scope);return console.log(`Service Worker 已卸载: ${self.registration.scope}`),self.clients.matchAll()}),(e=>{console.log(`Service Worker 卸载失败: ${e}`)})).then((e=>{e.forEach((e=>e.navigate(e.url)))}))}));